---
title: 位运算与二进制状态压缩 学习报告
date: 2019-02-26 16:22:36
categories: 学习报告
tags: 
    - 位运算
    - 状压
top:
toc: true
---

# 前言

在计算机中，数据都使用二进制存储与操作。因此，学习位运算不仅可以优化我们的程序~~（使可读性--）~~，还可以帮助我们理解程序运行中的种种表现，帮助我们更好的DEBUG~~（卡常）~~

<!--more-->

学习资料：《进阶指南》

# 位运算

## 算术位运算

下面给出四种算术位运算：

|  与   |  或   |  非   | 亦或  |
| :---: | :---: | :---: | :---: |
| and,& | or,\| | not,~ | xor,^ |

注意**与**和**或**运算与条件连接使用的与和或**不同**，**非**也从`!`变为`~`。

这些运算的意义不再赘述。

## 移位

### 左移

低位补0，高位越界舍弃。

对于左移操作，我们有：

$${1<<n=2^n,n<<k=2^k\times n}$$

### 右移

低位越界舍弃，高位以**符号位**补充。

对于右移操作，我们有：
$${n>>k=\lfloor{\dfrac{n}{2^k}}\rfloor}$$

# 状压

## 基本操作

|       操作       |     运算     |
| :--------------: | :----------: |
|   取出n的第k位   |   (n>>k)&1   |
| 取出n的第0~k-1位 | n&((1<<k)-1) |
|   n的第k位取反   |   n^(1<<k)   |
|   n的第k位赋1    |  n\|(1<<k)   |
|   n的第k位赋0    | n&(~(1<<k))  |

~~可以在脑中模拟一下，应该很好理解~~

## 成对变换

对于一个偶数${n}$，我们有${n+1=n \; xor \;1}$

同样的，对于一个奇数${n}$，我们有${n-1=n \; xor \;1}$

### 运用

**滚动数组**和**邻接表存反图**

## lowbit

```c++
int lowbit(int x){return x&-x;}
```

这是代码，作用为取出数$x$的最低位的1。

运用了**二进制补码**的相关知识。~~不再赘述~~

是**树状数组**的**核心**。

## 后记

使用位运算可以**显著优化运行时间**，因此，**在对程序可读性无重大影响**的基础上，笔者会尽量使用位运算。